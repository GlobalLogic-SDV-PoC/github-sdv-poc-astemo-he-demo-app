version: 'v2.0'
units:
  unit_tests:
    cloud_provider:
      name: !ENV "${CLOUD_PROVIDER}"
      project_name: 'astemo-unit-tests'
      subnet_id: !ENV "${SUBNET_ID}"
      image: !ENV "${IMAGE_ID}"
      instance_type: !ENV "${INSTANCE_TYPE}"
      security_group_name: 'default'
    adaptor: compiled_binary
    executor_type: 'ssh'
    connection_try_limit: 3
    environement:
      work_folder_on_remote: '/tmp/'
      src_folder_on_local: !ENV "${PATH_TO_BINARY}" # MERGE FOLDER AND PATH
      file_to_run: 'test_file.sh'
    report: 
      type: 'xml' # REMOVE THIS OPTION
      location: !ENV "${REPORT_DIR}" # USE THAT FOR COPYING
      transfer_report: True #OVERTHINK THAT
    depends_on: # MAKE OPTIONAL
